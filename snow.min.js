var e=function(){var n={snowflakeSize:3,intensity:50,speed:1,selector:"header"},a={},t="",i=null,o=[],l=0,r=0,s=0,d=null,h=null;return{cleanup:function(){t&&t.parentNode&&(t.parentNode.removeChild(t),h=t=null),o=[],cancelAnimationFrame(d),r=l=0},validateParameters:function(e){for(key in void 0===e&&(e={}),n)n.hasOwnProperty(key)&&(void 0!==e[key]?a[key]=e[key]:a[key]=n[key]);(a.snowflakeSize<0||6<a.snowflakeSize)&&(a.minWind=n.snowflakeSize,console.log("FallingSnow: invalid minWind parameter.")),(a.speed<.5||1.5<a.speed)&&(a.maxWind=n.speed,console.log("FallingSnow: invalid speed parameter.")),(a.intensity<10||100<a.intensity)&&(a.maxWind=n.intensity,console.log("FallingSnow: invalid intensity parameter."))},setCanvasSize:function(){function e(){var e=window.getComputedStyle(i);l=e.width.replace("px",""),r=e.height.replace("px",""),t.width=l,t.height=r}window.onresize=e(),e()},generateCanvas:function(){var e=document.createElement("canvas");e.id="fallingSnow",e.style.position="absolute",e.style.top=0,e.style.left=0,e.style["pointer-events"]="none",t=e,(i=document.querySelector(a.selector))?(i.appendChild(e),this.setCanvasSize()):console.log("FallingSnow: Could not get element! Aborting.")},generateSnow:function(){for(var e=10*a.intensity,n=0;n<e;n++)o.push({x:Math.random()*l,y:Math.random()*r,r:Math.random()*a.snowflakeSize,d:Math.random()*e,a:Math.random()/100})},drawSnow:function(){h||(h=t.getContext("2d")),h.clearRect(0,0,l,r),h.fillStyle="rgba(255, 255, 255, 0.8)",h.beginPath();for(var e=0;e<o.length;e++){var n=o[e];h.moveTo(n.x,n.y),h.arc(n.x,n.y,n.r,0,2*Math.PI,!0)}h.fill(),s+=.01;for(e=0;e<o.length;e++){(n=o[e]).y+=Math.abs(Math.cos(s+n.d)+a.speed+n.r/2),n.x+=(Math.sin(s)+Math.sin(n.a))/2*a.speed*2,(n.x>l+5||n.x<-5||n.y>r)&&(0<e%3?o[e]={x:Math.random()*l,y:-10,r:n.r,d:n.d,a:n.a}:0<Math.sin(s)?o[e]={x:-5,y:Math.random()*r,r:n.r,d:n.d,a:n.a}:o[e]={x:l+5,y:Math.random()*r,r:n.r,d:n.d,a:n.a})}d=requestAnimationFrame(this.drawSnow.bind(this),33)},fall:function(e){console.log("I was called"),this.cleanup(),this.validateParameters(e),this.generateCanvas(),this.generateSnow(),this.drawSnow()}}},n=e();n.fall({selector:"html"});